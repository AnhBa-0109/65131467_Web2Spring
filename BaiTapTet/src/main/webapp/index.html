<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>B√≥i Vui ƒê·∫ßu NƒÉm</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#e11d48", /* ƒê·ªïi sang m√†u ƒë·ªè cho c√≥ kh√¥ng kh√≠ T·∫øt */
                        "background-light": "#fef2f2",
                        "background-dark": "#111621",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"]
                    }
                },
            },
        }
    </script>
</head>
<body class="font-display bg-background-light dark:bg-background-dark min-h-screen flex flex-col relative">
    
    <div class="fixed inset-0 z-0 opacity-30 pointer-events-none" style="background-image: radial-gradient(circle at 2px 2px, #e11d48 1px, transparent 0); background-size: 40px 40px;">
    </div>

    <div class="relative z-10 flex flex-1 flex-col items-center justify-center px-6 py-12 w-full">
        
        <div class="w-full max-w-md bg-white dark:bg-slate-900 rounded-xl shadow-lg p-8 border border-slate-100 dark:border-slate-800">
            <div class="text-center mb-6">
                <span class="text-4xl">üèÆ</span>
                <h2 class="text-2xl font-bold text-slate-900 dark:text-white mt-2">Xem Tu·ªïi ƒê·∫ßu NƒÉm</h2>
                <p class="text-sm text-slate-500 mt-1">Nh·∫≠p nƒÉm sinh d∆∞∆°ng l·ªãch c·ªßa b·∫°n</p>
            </div>
            
            <form id="fortuneForm" class="space-y-5">
                <div class="flex flex-col gap-1.5">
                    <label class="text-sm font-medium text-slate-700 dark:text-slate-300" for="year">NƒÉm sinh</label>
                    <div class="relative">
                        <input class="block w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all outline-none" id="year" name="year" placeholder="V√≠ d·ª•: 2004" required="" type="number" min="1900" max="2100"/>
                    </div>
                </div>

                <button class="w-full flex items-center justify-center px-4 py-3 border border-transparent text-base font-semibold rounded-lg text-white bg-primary hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors shadow-sm mt-2" type="submit">
                    Xem Ngay
                </button>
            </form>

            <div id="resultBox" class="hidden mt-6 p-4 bg-rose-50 border border-rose-200 rounded-lg text-center transition-all">
                <p class="text-sm text-slate-600">NƒÉm √Çm L·ªãch c·ªßa b·∫°n l√†:</p>
                <p id="zodiacResult" class="text-xl font-bold text-rose-600 mt-1"></p>
                <p class="text-sm text-slate-600 mt-2">Ch√∫c b·∫°n m·ªôt nƒÉm v·∫°n s·ª± nh∆∞ √Ω! üéÜ</p>
            </div>
        </div>
        
    </div>

    <script>
        document.getElementById('fortuneForm').addEventListener('submit', function(event) {
            event.preventDefault(); // NgƒÉn load l·∫°i trang

            const formData = new URLSearchParams(new FormData(this));

            // G·ª≠i d·ªØ li·ªáu t·ªõi file JSP
            fetch('index.jsp', {
                method: 'POST',
                body: formData,
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' }
            })
            .then(response => response.text())
            .then(result => {
                const data = result.trim().split('|'); // C·∫Øt chu·ªói tr·∫£ v·ªÅ
                
                if (data[0] === 'success') {
                    // N·∫øu th√†nh c√¥ng: Hi·ªán khung k·∫øt qu·∫£ v√† ƒëi·ªÅn ch·ªØ v√†o
                    document.getElementById('zodiacResult').innerText = data[1];
                    document.getElementById('resultBox').classList.remove('hidden');
                } else {
                    // N·∫øu l·ªói (VD: kh√¥ng nh·∫≠p g√¨): B·∫≠t dialog c·∫£nh b√°o
                    alert(data[1]);
                }
            })
            .catch(error => {
                console.error('L·ªói:', error);
                alert('C√≥ l·ªói x·∫£y ra, vui l√≤ng th·ª≠ l·∫°i!');
            });
        });
    </script>
</body>
</html>